using UnityEngine;

public class TYRInvulnerability : MonoBehaviour {
    private BossHealth tyrHealth;

    private void Start() {
        tyrHealth = gameObject.GetComponent<BossHealth>();
    }

    private void Update() {
        if (tyrHealth.damageCounter >= 50f && !tyrHealth.isDead) {
            var animator = GetComponent<Animator>();
            Debug.Log(animator != null
                ? "GetComponent<Animator>() in TYRInculnerability istanziato"
                : "GetComponent<Animator>() in TYRInculnerability non istanziato");
            animator.SetBool("Invulnerable", true);

            var dropHidromele = gameObject.GetComponent<DropHeal>();
            Debug.Log(dropHidromele != null
                ? "gameObject.GetComponent<DropHeal>() in TYRInculnerability istanziato"
                : "gameObject.GetComponent<DropHeal>() in TYRInculnerability non istanziato");
            dropHidromele.Drop(2);
            Debug.Log("Droppati gli idromele");

            tyrHealth.damageCounter = 0;
        }
    }
}